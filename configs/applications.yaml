# BD SelfScan Application Configuration
# Maps Kubernetes applications to Black Duck Project Groups

applications:
  # Example Application - OWASP WebGoat Security Training
  - name: "OWASP WebGoat"   # Required field
    namespace: "default"  # Required field
    labelSelector: "app=webgoat-official"  # Required field
    projectGroup: "OWASP WebGoat Security Training"  # Required field
    projectTier: 2  # Optional field
    projectPhase: "DEVELOPMENT"  # Required field
    projectVersion: "v2025.3"  # Optional field
    scanOnDeploy: true # Optional field
    scanSchedule: "0 2 * * 0" # Weekly Sunday 2AM (Phase 2) # Optional field
    description: "OWASP WebGoat Official (webgoat/webgoat:latest) - deliberately vulnerable web application" # Optional field

# Configuration Schema Documentation:
#
# Required Fields:
#   name: Human-readable application name (used in Black Duck Project names)
#   namespace: Kubernetes namespace where the application is deployed
#   labelSelector: Kubernetes label selector to find pods (supports multiple labels)
#   projectGroup: Black Duck Project Group name (will be created if it doesn't exist)
#   projecctVersion: Explicit version override - takes precedence over auto-detection from image tags
#                    If not specified, version will be auto-detected from container image tags
#                    Examples: "v2025.3", "1.2.3-release", "2025.09.12-snapshot"
#
# Valid Black Duck Project Version Phases:
# - PLANNING: Early development, requirements gathering
# - DEVELOPMENT: Active development, testing
# - PRERELEASE: Pre-release testing, staging
# - RELEASED: Production deployment, released to users  
# - DEPRECATED: Legacy, being phased out
# - ARCHIVED: No longer maintained, archived
#
# Optional Fields:
#   projectTier: Priority tier for scanning policies (1=Critical, 2=High, 3=Medium, 4=Low)
#   scanOnDeploy: Enable automatic scanning when deployments occur (Phase 2)
#   scanSchedule: Cron expression for scheduled scans (Phase 2 only)
#   description: Human-readable description for documentation purposes
#
# Label Selector Syntax Examples:
#   Single label:     "app=myapp"
#   Multiple labels:  "app=myapp,version=v1.2.0" (AND condition)
#   Standard k8s:     "app.kubernetes.io/part-of=myapp"
#   Complex:          "tier=web,environment=production,team=backend"
#
# Project Tiers:
#   Tier 1 (Critical): Financial systems, security components, core infrastructure
#     - Strictest policies, immediate scan on deploy, high severity blocking
#   Tier 2 (High): Customer-facing applications, important business functions
#     - Strict policies, scan on deploy, medium+ severity blocking
#   Tier 3 (Medium): Standard applications, internal services (DEFAULT)
#     - Standard policies, scheduled scanning, critical severity blocking
#   Tier 4 (Low): Development tools, non-critical internal utilities
#     - Relaxed policies, scheduled scanning only, blocker severity only
